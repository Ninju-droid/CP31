#include <bits/stdc++.h>
#include <ext/pb_ds/assoc_container.hpp>
#include <ext/pb_ds/tree_policy.hpp>

using namespace std;
using namespace __gnu_pbds;

#define ll long long 
#define endl '\n'

typedef __gnu_pbds::tree<
    ll,
    __gnu_pbds::null_type,
    less<ll>,
    __gnu_pbds::rb_tree_tag,
    __gnu_pbds::tree_order_statistics_node_update> ordered_set;

void fun() { 
   ll n;cin>>n;
   vector<pair<ll,ll>>a(n);
   for(ll i =0;i<n;i++){
    cin>>a[i].first>>a[i].second;
   }
   sort(a.begin(),a.end());
   ll ans = 0;
   ordered_set st;
   for(ll i=n-1;i>=0;i--){
    ll x = a[i].second;
    st.insert(x);
    ans+= st.order_of_key(x);
   }
   cout<<ans<<endl;
}

int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
#ifndef ONLINE_JUDGE
    freopen("Input.txt", "r", stdin);
    freopen("Output.txt", "w", stdout);
#endif
    int t;
    cin >> t;
    while (t--) fun();
    return 0;
}


 