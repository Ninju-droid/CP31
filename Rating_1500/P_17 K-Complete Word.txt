#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
ll mod = 1e9+7;

void fun() {
    ll n,k; cin>>n>>k; 
    string s;cin>>s; 
    ll ans = 0;
    vector<vector<ll>>a(k,vector<ll>(26,0));
    for(ll i=0;i<k;i++){
        for(ll j=i;j<n;j+=k){
            a[i][s[j]-'a']++;
        }
    }
    ll left=0,right=k-1;
    while(left<=right){
        ll cnt = 0,maxi = 0;
        for(ll j=0;j<26;j++){
            cnt+=a[left][j];
            if(left<right)cnt+=a[right][j];
            if(left<right)maxi = max(maxi,a[left][j]+a[right][j]);
            else maxi = max(maxi,a[left][j]);
        }
        ans+=(cnt-maxi);
        left++;right--;
    }
    cout<<ans<<endl;
}

int main() {
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
#ifndef ONLINE_JUDGE
    freopen("Input.txt", "r", stdin);
    freopen("Output.txt", "w", stdout);
#endif
    int t ;
    cin>>t;
    while (t--) fun();
}
