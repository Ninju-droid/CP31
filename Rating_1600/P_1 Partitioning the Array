#include <bits/stdc++.h>
#ifndef ONLINE_JUDGE
    #include "Others.h" 
#endif
using namespace std;

#define all(x) (x).begin(), (x).end()
#define allr(x) (x).rbegin(), (x).rend()

#define ll long long

const int MOD = 1e9 + 7;
const int MAXN = 1e6 + 5;

bool isPowerOfTwo(ll n) {
    return (n && !(n & (n - 1)));
}
ll modpow(ll base, ll exp) {
    ll result = 1;
    base %= MOD;
    while (exp > 0) {
        if (exp & 1) result = (result * base) % MOD;
        base = (base * base) % MOD;
        exp >>= 1;
    }
    return result;
}
bool isPrime(ll n) {
    if (n < 2) return false;
    if (n % 2 == 0) return n == 2;
    for (ll i = 3; i * i <= n; i += 2) {
        if (n % i == 0) return false;
    }
    return true;
}
vector<ll>primes(MAXN+1);
void Prime(){
    for (ll i = 1; i<=MAXN; i++) primes[i] = i;
    for (ll i = 2; i * i<=MAXN; i++) {
        if (primes[i] == i) {
            for (ll j = i * i; j <= MAXN; j += i) {
                if(primes[j] == j) primes[j] = i;
            }
        }
    
    }

}

ll check(ll m ,ll n ,vector<ll>&a ){
    ll gcd = 0 ; 
    for(ll i = 0 ;i<m;i++){
        ll gcd1 = 0; 
        for(ll j = i+m;j<n;j+=m){
            gcd1 = __gcd(gcd1,abs(a[j]-a[j-m]));
        }
        gcd = __gcd(gcd,gcd1); 
    } 
    if(gcd==1) return 0 ; 
    return 1; 
}

void fun(){
    ll n;cin>>n; 
    vector<ll>a(n); 
    for(ll i=0;i<n;i++)cin>>a[i]; 
    ll ans = 1; 
    for(ll i=2;i*i<=n;i++){
        if(n%i)continue; 
        ans += check(i , n , a) ; 
        if(i!= n/i) ans += check(n/i , n,a) ; 
    }
    if(n>1)ans += check(1,n,a);
    cout<<ans<<endl;
}


int main() {
#ifndef ONLINE_JUDGE
    freopen("Input.txt", "r", stdin);
    freopen("Output.txt", "w", stdout);
#endif
   int t = 1;
   cin>>t;
   while(t--)fun();
   return 0 ; 
}