#include <bits/stdc++.h>
#ifndef ONLINE_JUDGE
    #include "Others.h" 
#endif
using namespace std;

#define all(x) (x).begin(), (x).end()
#define allr(x) (x).rbegin(), (x).rend()

#define ll long long

const int MOD = 1e9 + 7;
const int MAXN = 1e6 + 5;
ll modpow(ll base, ll exp) {
    ll result = 1;
    base %= MOD;
    while (exp > 0) {
        if (exp & 1) result = (result * base) % MOD;
        base = (base * base) % MOD;
        exp >>= 1;
    }
    return result;
}
ll modinv(ll a){
    return modpow(a,MOD-2);
}
vector<ll> fact(MAXN);
void precomputeFact(){
    fact[0] = 1;
    for(int i=1; i<MAXN; i++){
        fact[i] = (fact[i-1]*i) % MOD;
    }
}
ll nCr(int n,int r){
    if(r>n || r<0) return 0;
    ll denom = (fact[r] * fact[n-r]) % MOD;
    return (fact[n]*modinv(denom)) % MOD;
}

bool isPowerOfTwo(ll n) {
    return (n && !(n & (n - 1)));
}

bool isPrime(ll n) {
    if (n < 2) return false;
    if (n % 2 == 0) return n == 2;
    for (ll i = 3; i * i <= n; i += 2) {
        if (n % i == 0) return false;
    }
    return true;
}
vector<ll>primes(MAXN+1);
void Prime(){
    for (ll i = 1; i<=MAXN; i++) primes[i] = i;
    for (ll i = 2; i * i<=MAXN; i++) {
        if (primes[i] == i) {
            for (ll j = i * i; j <= MAXN; j += i) {
                if(primes[j] == j) primes[j] = i;
            }
        }
    }
}

ll fucnt(array<ll,26> st,string a, string b,ll n){
    ll total = 0;
    ll cnt = 0;  
    for(ll i = 0;i<n;i++){
        if(a[i]==b[i] || st[a[i]-'a'])cnt++; 
        else{
            total+= (cnt*(cnt+1))/2; 
            cnt = 0 ;
        }
    }
    total += (cnt*(cnt+1))/2;
    return total;
}

void fun(){
    ll n,k; cin>>n>>k; 
    string a,b;cin>>a>>b;
    vector<ll>hash(26,0); 
    for(ll i=0;i<n;i++){
        hash[a[i]-'a']++; 
    } 
    string s = ""; 
    for(ll i =0 ;i<=25;i++){
        if(hash[i]){
            s.push_back('a' + i);
        }
    }
    vector<array<ll, 26>> vec;
    ll total = s.size(); 
    k = min(total,k);
    for(ll i=0;i<(1LL << total);i++){
        ll cnt = __builtin_popcountll(i); 
        if(cnt==k){
            array<ll,26> st{}; 
            for(ll j=0;j<total;j++){
                if(i&(1ll<<j))st[s[j]-'a']++;
            }
            vec.push_back(st);
        }
    }
    ll ans = 0 ; 
    for(ll i = 0 ; i<vec.size() ; i++){
        ll cnt = fucnt(vec[i],a,b,n);
        ans = max(ans,cnt); 
    }
    cout<<ans<<endl;
}   

int main() {
#ifndef ONLINE_JUDGE
    freopen("Input.txt", "r", stdin);
    freopen("Output.txt", "w", stdout);
#endif
   int t = 1;
   cin>>t;
   while(t--)fun();
   return 0 ; 
}
