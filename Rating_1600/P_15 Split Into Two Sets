#include <bits/stdc++.h>
using namespace std;

const int MOD = 998244353;
const int MAXN = 1e6 + 5;
#define ll long long
#define all(x) (x).begin(), (x).end()
#define allr(x) (x).rbegin(), (x).rend()
ll modpow(ll base, ll exp) {
    ll result = 1;
    base %= MOD;
    while (exp > 0) {
        if (exp & 1) result = (result * base) % MOD;
        base = (base * base) % MOD;
        exp >>= 1;
    }
    return result;
}
ll modinv(ll a){
    return modpow(a,MOD-2);
}
vector<ll> fact(MAXN);
void precomputeFact(){
    fact[0] = 1;
    for(int i=1; i<MAXN; i++){
        fact[i] = (fact[i-1]*i) % MOD;
    }
}
ll nCr(int n,int r){
    if(r>n || r<0) return 0;
    ll denom = (fact[r] * fact[n-r]) % MOD;
    return (fact[n]*modinv(denom)) % MOD;
}

void bfs(ll it , vector<ll>&vis ,vector<vector<ll>>&adj, ll &cnt){
    if(vis[it])return; 
    cnt++; 
    vis[it]=1; 
    for(auto i:adj[it]){
        bfs(i,vis,adj,cnt); 
    }
}

void fun(){
   ll n;cin>>n; 
   vector<pair<ll,ll>>a(n+1);
   vector<ll>deg(n+1,0); 
   for(ll i=1;i<=n;i++){
    cin>>a[i].first>>a[i].second; 
    deg[a[i].first]++; 
    deg[a[i].second]++;
   }
   for(ll i = 1;i<=n;i++){
    if(deg[i]!=2){
        cout<<"NO"<<endl; 
        return; 
    }
   }
   vector<vector<ll>>adj(n+1);

   for(ll i=1;i<=n;i++){
    adj[a[i].first].push_back(a[i].second); 
    adj[a[i].second].push_back(a[i].first); 
   }

   vector<ll>vis(n+1,0); 
   for(ll i=1;i<=n;i++){
    if(vis[i])continue; 
    ll cnt = 1;
    vis[i] = 1;  
    for(auto it : adj[i]){
        bfs(it,vis,adj,cnt); 
    }
    if(cnt%2){
        cout<<"NO"<<endl;
        return; 
    }
   }
   cout<<"YES"<<endl;
}

int main() {
#ifndef ONLINE_JUDGE
    freopen("Input.txt", "r", stdin);
    freopen("Output.txt", "w", stdout);
#endif  
   int t = 1;
   cin>>t;
   while(t--)fun(); 
   return 0 ; 
}
